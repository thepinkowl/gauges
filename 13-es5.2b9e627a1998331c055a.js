!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,"symbol"==typeof(o=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"))?o:String(o)),r)}var i,o}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/2RN":function(e,r,o){"use strict";o.r(r),o.d(r,"DashBoardPageModule",function(){return j});var s,a=o("ofXK"),c=o("3Pt+"),u=o("TEn/"),f=o("tyNb"),g=o("ycII"),l=o("fXoL"),h=o("ptfe"),b=o("qfBg"),p=function(){return["/profile"]},d=((s=function(){function t(e,r){n(this,t),this.userService=e,this.tasksService=r,this.messages={green:["all lights green, have a break","you're doing well today!","nothing new here, have a break","all lights are green, bravo!","you are the best!"],orange:["a few things to do and you're done","some chores are due today, take it easy","you're almost done for today","swipe it right!"],red:["swipe them right!","did you forget something?","it's time to do them!","I know you can do it!","let's get some work done today!"]},this.message=""}return i(t,[{key:"ngOnInit",value:function(){var t=this;this.user=this.userService.getUser(),this.tasksService.getTasks().subscribe(function(e){var n;e&&e.length?(n=e.some(function(t){return t.progress<25})?t.messages.red:e.some(function(t){return t.progress<50})?t.messages.orange:t.messages.green,t.message=n[Math.floor(Math.random()*n.length)]):t.message="start by creating a task!"})}}]),t}()).\u0275fac=function(t){return new(t||s)(l.Mb(b.a),l.Mb(h.a))},s.\u0275cmp=l.Gb({type:s,selectors:[["app-mood-title"]],decls:6,vars:6,consts:[[3,"routerLink"]],template:function(t,e){1&t&&(l.Pb(0,"h1"),l.pc(1," Hey "),l.Pb(2,"span",0),l.pc(3),l.ac(4,"async"),l.Ob(),l.pc(5),l.Ob()),2&t&&(l.Cb(2),l.fc("routerLink",l.gc(5,p)),l.Cb(1),l.qc(l.bc(4,3,e.user).name),l.Cb(2),l.rc(", ",e.message,"\n"))},directives:[u.E,f.h],pipes:[a.b],styles:["[_nghost-%COMP%]   h1[_ngcontent-%COMP%]{width:73%;max-width:350px;font-family:var(--tpo-font-family);font-size:var(--tpo-font-big);font-weight:700;line-height:140%;margin:var(--tpo-margin);margin-top:40px}[_nghost-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--ion-color-primary)}"]}),s),m=o("zRHw"),y=o("uWEj");function v(t,e){if(1&t&&l.Nb(0,"app-task-list",6),2&t){var n=l.Zb();l.fc("tasks",n.tasks)}}var k=function(t){return["/category",t]};function C(t,e){if(1&t&&(l.Pb(0,"ion-item",9),l.Pb(1,"ion-grid"),l.Pb(2,"ion-row"),l.pc(3),l.Ob(),l.Pb(4,"ion-row",10),l.Nb(5,"app-gauge",11),l.Ob(),l.Ob(),l.Ob()),2&t){var n=e.$implicit,r=l.Zb(3);l.fc("routerLink",l.hc(3,k,n.cid)),l.Cb(3),l.qc(n.title),l.Cb(2),l.fc("percentage",r.getCategoryProgress(n))}}function w(t,e){if(1&t&&(l.Pb(0,"div"),l.Pb(1,"ion-list-header"),l.Pb(2,"ion-label"),l.pc(3),l.Ob(),l.Ob(),l.oc(4,C,6,5,"ion-item",8),l.Ob()),2&t){var n=e.$implicit,r=l.Zb(2);l.Cb(3),l.qc(n.title),l.Cb(1),l.fc("ngForOf",r.getChildCategories(n))}}function O(t,e){if(1&t&&(l.Pb(0,"ion-list"),l.oc(1,w,5,2,"div",7),l.Nb(2,"app-task-list",6),l.Ob()),2&t){var n=l.Zb();l.Cb(1),l.fc("ngForOf",n.parentCategories),l.Cb(1),l.fc("tasks",n.otherTasks)}}var P,M,S,T=[{path:"",component:(P=function(){function e(t,r){n(this,e),this.tasksService=t,this.categoriesService=r,this.categories=[],this.categoryCIDs=[],this.tasks=[],this.initialTasks=[],this.subs=[],this.showTasksRatherThanCategories=!0}return i(e,[{key:"ngOnDestroy",value:function(){this.subs.forEach(function(t){return t.unsubscribe()})}},{key:"ionViewWillEnter",value:function(){var t=this;this.$tasks=this.tasksService.getTasks(),this.$categories=this.categoriesService.getCategories();var e=this.$tasks.subscribe(function(e){t.initialTasks=e,t.tasks=e}),n=this.$categories.subscribe(function(e){t.initialCategories=e,t.categories=e});this.subs.push(e,n)}},{key:"ionViewDidEnter",value:function(){this.scroll||this.ionContent.scrollToPoint(0,60)}},{key:"onScrollEnd",value:function(){this.scroll||(this.scroll=!0)}},{key:"parentCategories",get:function(){var e=this,n=t(this.categories.filter(function(t){var n=e.getChildCategories(t).some(function(t){return e.tasks.some(function(e){return e.category===t.cid})||e.categoryCIDs.some(function(e){return t.cid===e})});return!t.parentcid&&n}));return this.tasks.some(function(t){return!t.hasCategory()})&&n.push(g.b),n}},{key:"otherTasks",get:function(){return this.tasks.filter(function(t){return!t.hasCategory()})}},{key:"getChildCategories",value:function(t){var e=this;return this.categories.filter(function(n){var r=e.tasks.some(function(t){return t.category===n.cid})||e.categoryCIDs.some(function(t){return n.cid===t})&&e.initialTasks.some(function(t){return t.category===n.cid});return n.parentcid===t.cid&&r})}},{key:"getCategoryProgress",value:function(e){var n=this.tasksService.getTasksInCategory(e).map(function(t){return t.progress});return Math.min.apply(Math,t(n))}},{key:"filterContent",value:function(t){this.tasks=this.initialTasks.filter(function(e){return e.name.toLowerCase().includes(t.target.value.toLowerCase())}),this.categoryCIDs=this.initialCategories.filter(function(e){return e.title.toLowerCase().includes(t.target.value.toLowerCase())}).map(function(t){return t.cid})}}]),e}(),P.\u0275fac=function(t){return new(t||P)(l.Mb(h.a),l.Mb(g.a))},P.\u0275cmp=l.Gb({type:P,selectors:[["app-dashboard"]],viewQuery:function(t,e){var n;1&t&&l.tc(u.g,1),2&t&&l.jc(n=l.Yb())&&(e.ionContent=n.first)},decls:7,vars:2,consts:[["scrollEvents","true",3,"ionScrollEnd"],[1,"content"],["id","dashboard-search-bar",1,"search-bar"],[3,"ionInput"],[3,"tasks",4,"ngIf"],[4,"ngIf"],[3,"tasks"],[4,"ngFor","ngForOf"],[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],[1,"gauge-holder"],[3,"percentage"]],template:function(t,e){1&t&&(l.Pb(0,"ion-content",0),l.Xb("ionScrollEnd",function(){return e.onScrollEnd()}),l.Pb(1,"div",1),l.Pb(2,"div",2),l.Pb(3,"ion-searchbar",3),l.Xb("ionInput",function(t){return e.filterContent(t)}),l.Ob(),l.Ob(),l.Nb(4,"app-mood-title"),l.oc(5,v,1,1,"app-task-list",4),l.oc(6,O,3,2,"ion-list",5),l.Ob(),l.Ob()),2&t&&(l.Cb(5),l.fc("ngIf",e.showTasksRatherThanCategories),l.Cb(1),l.fc("ngIf",!e.showTasksRatherThanCategories))},directives:[u.g,u.v,u.G,d,a.k,m.a,u.r,a.j,u.s,u.q,u.m,u.E,f.h,u.i,u.u,y.a],styles:["[_nghost-%COMP%]{padding-top:env(safe-area-inset-top);padding-bottom:env(safe-area-inset-bottom)}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{min-height:calc(100vh + 60px - env(safe-area-inset-top) - env(safe-area-inset-bottom))}[_nghost-%COMP%]   .search-bar[_ngcontent-%COMP%]{height:60px;display:flex;align-items:center}[_nghost-%COMP%]   .gauge-holder[_ngcontent-%COMP%]{padding:5px 0}"]}),P)}],I=((M=i(function t(){n(this,t)})).\u0275fac=function(t){return new(t||M)},M.\u0275mod=l.Kb({type:M}),M.\u0275inj=l.Jb({imports:[[f.i.forChild(T)],f.i]}),M),E=o("/hdp"),j=((S=i(function t(){n(this,t)})).\u0275fac=function(t){return new(t||S)},S.\u0275mod=l.Kb({type:S}),S.\u0275inj=l.Jb({imports:[[a.c,c.a,u.A,I,E.a]]}),S)}}])}();