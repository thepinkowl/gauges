(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{S4AJ:function(n,t,e){"use strict";e.r(t),e.d(t,"TaskDetailPageModule",(function(){return h}));var o=e("ofXK"),i=e("3Pt+"),c=e("TEn/"),a=e("tyNb"),s=e("mrSG"),r=e("Mwlb"),l=e("fXoL"),b=e("ptfe");function g(n,t){if(1&n){const n=l.Nb();l.Mb(0,"div",4),l.Mb(1,"div",5),l.lc(2,"When did you last do this?"),l.Lb(),l.Mb(3,"ion-datetime",12),l.Ub("ionChange",(function(t){return l.fc(n),l.Wb().onChange(t)})),l.Lb(),l.Lb()}if(2&n){const n=l.Wb();l.zb(3),l.bc("max",n.now.toISOString())("value",n.lastExecution)}}function d(n,t){if(1&n){const n=l.Nb();l.Mb(0,"ion-button",13),l.Ub("click",(function(){return l.fc(n),l.Wb().create()})),l.lc(1,"Create"),l.Lb()}}function f(n,t){if(1&n){const n=l.Nb();l.Mb(0,"ion-button",13),l.Ub("click",(function(){return l.fc(n),l.Wb().update()})),l.lc(1,"Update"),l.Lb()}}function u(n,t){if(1&n){const n=l.Nb();l.Mb(0,"ion-button",14),l.Ub("click",(function(){return l.fc(n),l.Wb().delete()})),l.lc(1,"Remove this task"),l.Lb()}}const M=[{path:"",component:(()=>{class n{constructor(n,t,e){this.nav=n,this.tasksService=t,this.activatedRoute=e,this.now=new Date,this.task=r.a.createEmpty(),this.new=!0,this.lastExecution=this.now.toISOString()}onChange(n){const t=new Date(n.detail.value);this.task.lastDone.setTime(t.getTime()),this.task.computeProgress()}ngOnInit(){this.activatedRoute.params.subscribe(n=>Object(s.a)(this,void 0,void 0,(function*(){if(this.new="new"===n.id,!this.new){const t=yield this.tasksService.getTaskById(n.id);this.task=t,this.lastExecution=t.lastDone.toISOString()}this.task.computeProgress()})))}goBack(){this.task.computeProgress(),window.history.length>2?this.nav.back():this.nav.navigateBack("/")}create(){return Object(s.a)(this,void 0,void 0,(function*(){this.new&&(yield this.tasksService.createTask(this.task),this.goBack())}))}update(){return Object(s.a)(this,void 0,void 0,(function*(){this.new||(yield this.tasksService.updateTask(this.task),this.goBack())}))}delete(){this.new||(this.tasksService.deleteTask(this.task),this.goBack())}}return n.\u0275fac=function(t){return new(t||n)(l.Jb(c.r),l.Jb(b.a),l.Jb(a.a))},n.\u0275cmp=l.Db({type:n,selectors:[["app-task-detail"]],decls:24,vars:7,consts:[[3,"fullscreen"],[1,"form"],[1,"cancel-button"],["fill","clear",3,"click"],[1,"form-element"],[1,"title"],[3,"ngModel","ngModelChange"],[1,"repeat-selector"],["class","form-element",4,"ngIf"],[1,"actions"],["expand","block","color","primary",3,"click",4,"ngIf"],["fill","clear","color","danger",3,"click",4,"ngIf"],["displayFormat","DDDD MMM D, YYYY",3,"max","value","ionChange"],["expand","block","color","primary",3,"click"],["fill","clear","color","danger",3,"click"]],template:function(n,t){1&n&&(l.Mb(0,"ion-content",0),l.Mb(1,"main"),l.Mb(2,"div",1),l.Mb(3,"div",2),l.Mb(4,"ion-button",3),l.Ub("click",(function(){return t.goBack()})),l.lc(5,"Cancel"),l.Lb(),l.Lb(),l.Mb(6,"div",4),l.Mb(7,"div",5),l.lc(8,"Let's give it a name!"),l.Lb(),l.Mb(9,"ion-input",6),l.Ub("ngModelChange",(function(n){return t.task.title=n})),l.Lb(),l.Lb(),l.Mb(10,"div",4),l.Mb(11,"div",5),l.lc(12,"When do you usually do this task?"),l.Lb(),l.Mb(13,"div",7),l.Mb(14,"span"),l.lc(15," Every "),l.Lb(),l.Mb(16,"ion-input",6),l.Ub("ngModelChange",(function(n){return t.task.repeat=n})),l.Lb(),l.Mb(17,"span"),l.lc(18," days "),l.Lb(),l.Lb(),l.Lb(),l.kc(19,g,4,2,"div",8),l.Lb(),l.Mb(20,"div",9),l.kc(21,d,2,0,"ion-button",10),l.kc(22,f,2,0,"ion-button",10),l.kc(23,u,2,0,"ion-button",11),l.Lb(),l.Lb(),l.Lb()),2&n&&(l.bc("fullscreen",!0),l.zb(9),l.bc("ngModel",t.task.title),l.zb(7),l.bc("ngModel",t.task.repeat),l.zb(3),l.bc("ngIf",t.new),l.zb(2),l.bc("ngIf",t.new),l.zb(1),l.bc("ngIf",!t.new),l.zb(1),l.bc("ngIf",!t.new))},directives:[c.d,c.c,c.h,c.v,i.c,i.d,o.k,c.e,c.u],styles:["[_nghost-%COMP%]   main[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%;padding-bottom:calc(env(safe-area-inset-bottom) + 10px)}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;font-weight:700}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-element[_ngcontent-%COMP%]{padding:10px 20px}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-element[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%], [_nghost-%COMP%]   main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-element[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{border:1px solid var(--ion-color-light)}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-element[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{padding:0 10px!important}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-element[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;max-width:70%;padding:20px 0 10px}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-element[_ngcontent-%COMP%]   div.repeat-selector[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .form-element[_ngcontent-%COMP%]   div.repeat-selector[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:0 10px}[_nghost-%COMP%]   main[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:0 40px}"]}),n})()}];let m=(()=>{class n{}return n.\u0275mod=l.Hb({type:n}),n.\u0275inj=l.Gb({factory:function(t){return new(t||n)},imports:[[a.i.forChild(M)],a.i]}),n})(),h=(()=>{class n{}return n.\u0275mod=l.Hb({type:n}),n.\u0275inj=l.Gb({factory:function(t){return new(t||n)},imports:[[o.c,i.a,c.p,m]]}),n})()}}]);